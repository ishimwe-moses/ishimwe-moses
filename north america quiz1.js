const questions = [
   
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-alabama.jpeg' alt='Alabama Flag'>",
      "type": "multiple",
      "options": ["Alabama", "Georgia", "Mississippi"],
      "answer": "Alabama"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-alaska.jpeg' alt='Alaska Flag'>",
      "type": "multiple",
      "options": ["Alaska", "Montana", "Oregon"],
      "answer": "Alaska"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-arizona.jpeg' alt='Arizona Flag'>",
      "type": "multiple",
      "options": ["Arizona", "New Mexico", "Nevada"],
      "answer": "Arizona"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-arkansas.jpeg' alt='Arkansas Flag'>",
      "type": "multiple",
      "options": ["Arkansas", "Kentucky", "Tennessee"],
      "answer": "Arkansas"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-california.jpeg' alt='California Flag'>",
      "type": "multiple",
      "options": ["California", "Nevada", "Texas"],
      "answer": "California"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-colorado.jpeg' alt='Colorado Flag'>",
      "type": "multiple",
      "options": ["Colorado", "Wyoming", "Utah"],
      "answer": "Colorado"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-connecticut.jpeg' alt='Connecticut Flag'>",
      "type": "multiple",
      "options": ["Connecticut", "New York", "Rhode Island"],
      "answer": "Connecticut"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-delaware.jpeg' alt='Delaware Flag'>",
      "type": "multiple",
      "options": ["Delaware", "Maryland", "New Jersey"],
      "answer": "Delaware"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-florida.jpeg' alt='Florida Flag'>",
      "type": "multiple",
      "options": ["Florida", "Alabama", "South Carolina"],
      "answer": "Florida"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-georgia.jpeg' alt='Georgia Flag'>",
      "type": "multiple",
      "options": ["Georgia", "Alabama", "Tennessee"],
      "answer": "Georgia"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-hawaii.jpeg' alt='Hawaii Flag'>",
      "type": "multiple",
      "options": ["Hawaii", "Alaska", "California"],
      "answer": "Hawaii"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-idaho.jpeg' alt='Idaho Flag'>",
      "type": "multiple",
      "options": ["Idaho", "Montana", "Wyoming"],
      "answer": "Idaho"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-illinois.jpeg' alt='Illinois Flag'>",
      "type": "multiple",
      "options": ["Illinois", "Indiana", "Iowa"],
      "answer": "Illinois"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-indiana.jpeg' alt='Indiana Flag'>",
      "type": "multiple",
      "options": ["Indiana", "Ohio", "Michigan"],
      "answer": "Indiana"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-iowa.jpeg' alt='Iowa Flag'>",
      "type": "multiple",
      "options": ["Iowa", "Missouri", "Nebraska"],
      "answer": "Iowa"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-kansas.jpeg' alt='Kansas Flag'>",
      "type": "multiple",
      "options": ["Kansas", "Oklahoma", "Nebraska"],
      "answer": "Kansas"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-kentucky.jpeg' alt='Kentucky Flag'>",
      "type": "multiple",
      "options": ["Kentucky", "Tennessee", "West Virginia"],
      "answer": "Kentucky"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-louisiana.jpeg' alt='Louisiana Flag'>",
      "type": "multiple",
      "options": ["Louisiana", "Mississippi", "Arkansas"],
      "answer": "Louisiana"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-maine.jpeg' alt='Maine Flag'>",
      "type": "multiple",
      "options": ["Maine", "Vermont", "New Hampshire"],
      "answer": "Maine"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-maryland.jpeg' alt='Maryland Flag'>",
      "type": "multiple",
      "options": ["Maryland", "Virginia", "Delaware"],
      "answer": "Maryland"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-massachusetts.jpeg' alt='Massachusetts Flag'>",
      "type": "multiple",
      "options": ["Massachusetts", "Rhode Island", "Connecticut"],
      "answer": "Massachusetts"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-michigan.jpeg' alt='Michigan Flag'>",
      "type": "multiple",
      "options": ["Michigan", "Wisconsin", "Minnesota"],
      "answer": "Michigan"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-minnesota.jpeg' alt='Minnesota Flag'>",
      "type": "multiple",
      "options": ["Minnesota", "Wisconsin", "Iowa"],
      "answer": "Minnesota"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-mississippi.jpeg' alt='Mississippi Flag'>",
      "type": "multiple",
      "options": ["Mississippi", "Louisiana", "Arkansas"],
      "answer": "Mississippi"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-missouri.jpeg' alt='Missouri Flag'>",
      "type": "multiple",
      "options": ["Missouri", "Kansas", "Illinois"],
      "answer": "Missouri"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-montana.jpeg' alt='Montana Flag'>",
      "type": "multiple",
      "options": ["Montana", "Idaho", "Wyoming"],
      "answer": "Montana"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-nebraska.jpeg' alt='Nebraska Flag'>",
      "type": "multiple",
      "options": ["Nebraska", "Kansas", "South Dakota"],
      "answer": "Nebraska"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-nevada.jpeg' alt='Nevada Flag'>",
      "type": "multiple",
      "options": ["Nevada", "Utah", "California"],
      "answer": "Nevada"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-new-hampshire.jpeg' alt='New Hampshire Flag'>",
      "type": "multiple",
      "options": ["New Hampshire", "Maine", "Vermont"],
      "answer": "New Hampshire"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-new-jersey.jpeg' alt='New Jersey Flag'>",
      "type": "multiple",
      "options": ["New Jersey", "New York", "Pennsylvania"],
      "answer": "New Jersey"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-new-mexico.jpeg' alt='New Mexico Flag'>",
      "type": "multiple",
      "options": ["New Mexico", "Arizona", "Nevada"],
      "answer": "New Mexico"
    },
    
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-new-york.jpeg' alt='New York Flag'>",
      "type": "multiple",
      "options": ["New York", "New Jersey", "Connecticut"],
      "answer": "New York"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-north-carolina.jpeg' alt='North Carolina Flag'>",
      "type": "multiple",
      "options": ["North Carolina", "South Carolina", "Virginia"],
      "answer": "North Carolina"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-north-dakota.jpeg' alt='North Dakota Flag'>",
      "type": "multiple",
      "options": ["North Dakota", "South Dakota", "Montana"],
      "answer": "North Dakota"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-ohio.jpeg' alt='Ohio Flag'>",
      "type": "multiple",
      "options": ["Ohio", "Indiana", "Michigan"],
      "answer": "Ohio"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-oklahoma.jpeg' alt='Oklahoma Flag'>",
      "type": "multiple",
      "options": ["Oklahoma", "Kansas", "Texas"],
      "answer": "Oklahoma"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-oregon.jpeg' alt='Oregon Flag'>",
      "type": "multiple",
      "options": ["Oregon", "Washington", "Idaho"],
      "answer": "Oregon"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-pennsylvania.jpeg' alt='Pennsylvania Flag'>",
      "type": "multiple",
      "options": ["Pennsylvania", "New York", "New Jersey"],
      "answer": "Pennsylvania"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-rhode-island.jpeg' alt='Rhode Island Flag'>",
      "type": "multiple",
      "options": ["Rhode Island", "Massachusetts", "Connecticut"],
      "answer": "Rhode Island"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-south-carolina.jpeg' alt='South Carolina Flag'>",
      "type": "multiple",
      "options": ["South Carolina", "North Carolina", "Georgia"],
      "answer": "South Carolina"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-south-dakota.jpeg' alt='South Dakota Flag'>",
      "type": "multiple",
      "options": ["South Dakota", "North Dakota", "Nebraska"],
      "answer": "South Dakota"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-tennessee.jpeg' alt='Tennessee Flag'>",
      "type": "multiple",
      "options": ["Tennessee", "Kentucky", "Alabama"],
      "answer": "Tennessee"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-texas.jpeg' alt='Texas Flag'>",
      "type": "multiple",
      "options": ["Texas", "New Mexico", "Oklahoma"],
      "answer": "Texas"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-utah.jpeg' alt='Utah Flag'>",
      "type": "multiple",
      "options": ["Utah", "Nevada", "Colorado"],
      "answer": "Utah"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-vermont.jpeg' alt='Vermont Flag'>",
      "type": "multiple",
      "options": ["Vermont", "Maine", "New Hampshire"],
      "answer": "Vermont"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-virginia.jpeg' alt='Virginia Flag'>",
      "type": "multiple",
      "options": ["Virginia", "West Virginia", "North Carolina"],
      "answer": "Virginia"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-washington.jpeg' alt='Washington Flag'>",
      "type": "multiple",
      "options": ["Washington", "Oregon", "Idaho"],
      "answer": "Washington"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-west-virginia.jpeg' alt='West Virginia Flag'>",
      "type": "multiple",
      "options": ["West Virginia", "Virginia", "Kentucky"],
      "answer": "West Virginia"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-wisconsin.jpeg' alt='Wisconsin Flag'>",
      "type": "multiple",
      "options": ["Wisconsin", "Minnesota", "Michigan"],
      "answer": "Wisconsin"
    },
    {
      "question": "Which state's flag is shown below? <br><img src='flag-of-wyoming.jpeg' alt='Wyoming Flag'>",
      "type": "multiple",
      "options": ["Wyoming", "Montana", "Idaho"],
      "answer": "Wyoming"
    },
  
  
       
        {
          question: "Which UNESCO World Heritage Site is shown below? <br><img src='chichen-itza.jpeg' alt='Chichen Itza'>",
          type: "multiple",
          options: ["Chichen Itza", "Machu Picchu", "Stonehenge"],
          answer: "Chichen Itza"
        },
      
        {
          question: "Which countries are part of North America?",
          type: "checkbox",
          options: ["Canada", "Brazil", "Mexico", "United States"],
          answer: ["Canada", "Mexico", "United States"]
        },
        {
          question: "Which of the following states are located on the West Coast of the United States?",
          type: "checkbox",
          options: ["California", "Florida", "Oregon", "Nevada"],
          answer: ["California", "Oregon", "Nevada"]
        },
        {
          question: "Which languages are widely spoken in North America?",
          type: "checkbox",
          options: ["English", "Spanish", "French", "Portuguese"],
          answer: ["English", "Spanish", "French"]
        },
        {
          question: "Which of the following are national parks in the United States?",
          type: "checkbox",
          options: ["Yellowstone", "Banff", "Yosemite", "Grand Canyon"],
          answer: ["Yellowstone", "Yosemite", "Grand Canyon"]
        },
        {
          question: "Which of the following are Canadian provinces?",
          type: "checkbox",
          options: ["Ontario", "Quebec", "California", "British Columbia"],
          answer: ["Ontario", "Quebec", "British Columbia"]
        },
        {
          question: "Which of the following are famous landmarks in the United States?",
          type: "checkbox",
          options: ["Statue of Liberty", "Eiffel Tower", "Mount Rushmore", "The White House"],
          answer: ["Statue of Liberty", "Mount Rushmore", "The White House"]
        },
        {
          question: "Which of the following are islands that are U.S. states?",
          type: "checkbox",
          options: ["Hawaii", "Alaska", "Rhode Island", "Maui"],
          answer: ["Hawaii"]
        },
        {
          question: "Which of the following cities are Canadian?",
          type: "checkbox",
          options: ["Montreal", "Ottawa", "Vancouver", "Seattle"],
          answer: ["Montreal", "Ottawa", "Vancouver"]
        },
        {
          question: "Which of the following are UNESCO World Heritage Sites in North America?",
          type: "checkbox",
          options: ["Grand Canyon", "Chichen Itza", "Machu Picchu", "Statue of Liberty"],
          answer: ["Grand Canyon", "Chichen Itza", "Statue of Liberty"]
        },
        {
          question: "Which of the following are famous U.S. landmarks related to the American Revolution?",
          type: "checkbox",
          options: ["Liberty Bell", "Independence Hall", "Alamo", "Boston Tea Party Ships"],
          answer: ["Liberty Bell", "Independence Hall", "Boston Tea Party Ships"]
        },
        {
          question: "Which of the following are natural wonders located in the United States?",
          type: "checkbox",
          options: ["Grand Canyon", "Niagara Falls", "Mount Everest", "Yellowstone"],
          answer: ["Grand Canyon", "Niagara Falls", "Yellowstone"]
        }
      ,
        {
          question: "The largest country in North America is the ____.",
          type: "fillblank",
          answer: "Canada"
        },
        {
          question: "The capital city of the United States is ____.",
          type: "fillblank",
          answer: "Washington, D.C."
        },
        {
          question: "The Grand Canyon is located in the state of ____.",
          type: "fillblank",
          answer: "Arizona"
        },
        {
          question: "The tallest mountain in North America is ____.",
          type: "fillblank",
          answer: "Denali"
        },
        {
          question: "The official languages of Canada are English and ____.",
          type: "fillblank",
          answer: "French"
        },
        {
          question: "The Statue of Liberty is located in the city of ____.",
          type: "fillblank",
          answer: "New York"
        },
        {
          question: "The longest river in the United States is the ____ River.",
          type: "fillblank",
          answer: "Mississippi"
        },
        {
          question: "The capital city of Canada is ____.",
          type: "fillblank",
          answer: "Ottawa"
        },
        {
          question: "The historic site of Chichen Itza is located in the country of ____.",
          type: "fillblank",
          answer: "Mexico"
        },
        {
          question: "The province of Quebec in Canada is known for its ____-speaking population.",
          type: "fillblank",
          answer: "French"
        },
        {
          question: "The Rocky Mountains stretch across several states and provinces, including ____ in the United States and ____ in Canada.",
          type: "fillblank",
          answer: ["Colorado", "British Columbia"]
        },
        {
          question: "The famous national park located in California is called ____.",
          type: "fillblank",
          answer: "Yosemite"
        }
             

];


let selectedQuestions = [];
let correctAnswers = 0;

function startTest() {
    selectedQuestions = questions.sort(() => 0.5 - Math.random()).slice(0, 2000000);
    displayQuestions();
    document.getElementById('instructions').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
}

function displayQuestions() {
    const questionsContainer = document.getElementById('questions-container');
    questionsContainer.innerHTML = '';
    selectedQuestions.forEach((question, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.classList.add('question');
        questionDiv.innerHTML = generateQuestionHTML(question, index);
        questionsContainer.appendChild(questionDiv);
    });
}

function generateQuestionHTML(question, index) {
    switch (question.type) {
        case 'truefalse':
            return `
                <p>${index + 1}. ${question.question}</p>
                <label><input type="radio" name="question-${index}" value="true"> True</label>
                <label><input type="radio" name="question-${index}" value="false"> False</label>
            `;
        case 'fillblank':
            return `
                <p>${index + 1}. ${question.question}</p>
                <input type="text" name="question-${index}">
            `;
        case 'multiple':
            return `
                <p>${index + 1}. ${question.question}</p>
                ${question.options.map(option => `
                    <label><input type="radio" name="question-${index}" value="${option}"> ${option}</label>
                `).join('')}
            `;
        case 'checkbox':
            return `
                <p>${index + 1}. ${question.question}</p>
                ${question.options.map(option => `
                    <label><input type="checkbox" name="question-${index}" value="${option}"> ${option}</label>
                `).join('')}
            `;
        default:
            return '';
    }
}

function submitAnswers() {
    correctAnswers = 0;
    const corrections = [];
    selectedQuestions.forEach((question, index) => {
        const userAnswer = getUserAnswer(question, index);
        const isCorrect = checkAnswer(question, userAnswer);
        if (isCorrect) {
            correctAnswers++;
        } else {
            corrections.push({
                question: question.question,
                correctAnswer: question.answer,
                userAnswer
            });
        }
    });
    displayResults(corrections);
}

function getUserAnswer(question, index) {
    switch (question.type) {
        case 'truefalse':
        case 'multiple':
            return document.querySelector(`input[name="question-${index}"]:checked`)?.value || '';
        case 'fillblank':
            return document.querySelector(`input[name="question-${index}"]`).value.trim();
        case 'checkbox':
            return Array.from(document.querySelectorAll(`input[name="question-${index}"]:checked`)).map(input => input.value);
        default:
            return '';
    }
}

function checkAnswer(question, userAnswer) {
    if (Array.isArray(question.answer)) {
        return JSON.stringify(question.answer.sort()) === JSON.stringify(userAnswer.sort());
    }
    return question.answer.toString().toLowerCase() === userAnswer.toString().toLowerCase();
}

function displayResults(corrections) {
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('results').style.display = 'block';
    document.getElementById('score').innerText = `You got ${correctAnswers} out of 20 correct!`;
    const correctionsContainer = document.getElementById('corrections');
    correctionsContainer.innerHTML = corrections.map(correction => `
        <div>
            <p>${correction.question}</p>
            <p class="${correction.userAnswer.toString().toLowerCase() === correction.correctAnswer.toString().toLowerCase() ? 'correct' : 'incorrect'}">
                Your Answer: ${Array.isArray(correction.userAnswer) ? correction.userAnswer.join(', ') : correction.userAnswer}
            </p>
            <p class="correct">Correct Answer: ${Array.isArray(correction.correctAnswer) ? correction.correctAnswer.join(', ') : correction.correctAnswer}</p>
        </div>
    `).join('');
}

function restartQuiz() {
    document.getElementById('results').style.display = 'none';
    document.getElementById('instructions').style.display = 'block';
}
